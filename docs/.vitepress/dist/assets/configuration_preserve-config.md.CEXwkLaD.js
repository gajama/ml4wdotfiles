import{_ as i,c as e,o as a,ag as t}from"./chunks/framework.B7D1l-rG.js";const k=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"configuration/preserve-config.md","filePath":"configuration/preserve-config.md","lastUpdated":null}'),n={name:"configuration/preserve-config.md"};function l(o,s,p,h,r,c){return a(),e("div",null,s[0]||(s[0]=[t(`<div class="note custom-block github-alert"><p class="custom-block-title">NOTE</p><p><strong>The installation script will prepare the all files in a folder <code>~/.ml4w-hyprland/[version]</code> before starting the copy of the files into the final destination, e.g., <code>~/dotfiles/</code>. You can modify the prepared dotfiles with a hook script to protect your personal adjustments and you can install additional packages with a post script.</strong></p></div><h2 id="protect-folder-in-config-with-protected" tabindex="-1">Protect folder in <code>.config</code> with PROTECTED <a class="header-anchor" href="#protect-folder-in-config-with-protected" aria-label="Permalink to &quot;Protect folder in \`.config\` with PROTECTED&quot;">​</a></h2><p>You can protect any configuration folder in .config by adding an empty file with filename PROTECTED. The installation script will detect the file and skip the update and overwrite of any files of the configuration.</p><h2 id="protecting-your-own-dotfiles-adjustments-with-hook-sh" tabindex="-1">Protecting your own dotfiles adjustments with <code>hook.sh</code> <a class="header-anchor" href="#protecting-your-own-dotfiles-adjustments-with-hook-sh" aria-label="Permalink to &quot;Protecting your own dotfiles adjustments with \`hook.sh\`&quot;">​</a></h2><div class="note custom-block github-alert"><p class="custom-block-title">NOTE</p><p>If you want to create the files manually, copy the prepared templates from the <a href="https://github.com/mylinuxforwork/dotfiles/tree/main/share/templates" target="_blank" rel="noreferrer">templates folder</a>.</p><hr><p>If you want to modify the installation files just before the copy procedure starts, you can create a file hook.sh in the folder <code>~/.ml4w-hyprland/</code></p></div><p>With this hook script you can protect your own customization of files in <code>~/dotfiles</code> from getting overwritten by an update of new version of the ML4W Dotfiles.</p><p>The following information describes as an example how you can protect your customization of the <code>.bashrc</code> and nvim folder in <code>~/dotfiles</code>.</p><p>After installing the ML4W Dotfiles you will find the file hook.tpl in <code>~/.ml4w-hyprland</code></p><p>Rename the file and make it executable:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mv</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> hook.tpl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> hook.sh</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">chmod</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> +x</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> hook.sh</span></span></code></pre></div><p>Open the file in your preferred editor.</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#!/bin/bash</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># ------------------------------------------------------</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Don&#39;t edit this section</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Include scripts.sh with helper functions</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">source</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> library/scripts.sh</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># ------------------------------------------------------</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Show Current version</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;:: Running hook for ML4W Dotfiles </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$version</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># If you made adjustments in the installation folder e.g., ~/dotfiles folder </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># you can protect the files and folders from being overwritten by updates.</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">_protect</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .config/nvim</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">_protect</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .bashrc</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># You can add more command to get executed before the prepared dotfiles </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># will be copied to the target folder ~/dotfiles</span></span></code></pre></div><p>In this case you protect the nvim folder and the <code>.bashrc</code> file.</p><blockquote><p>The _protect function is a helper function shipped with the ML4W Dotfiles.</p></blockquote><p>Next time you run the ML4W installer the script will detect the existing <code>hook.sh</code> and will offer to execute it.</p><p>You can of course add more bash commands to this script if needed.</p><h2 id="execute-commands-after-the-installation-with-post-sh" tabindex="-1">Execute commands after the installation with post.sh <a class="header-anchor" href="#execute-commands-after-the-installation-with-post-sh" aria-label="Permalink to &quot;Execute commands after the installation with post.sh&quot;">​</a></h2><p>The following information describes as an example how you can install kitty after the installation with the <code>post.sh</code> script.</p><p>After installing the ML4W Dotfiles you will find the file post.tpl in <code>~/.ml4w-hyprland</code></p><p>Rename the file and make it executable:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mv</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> post.tpl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> post.sh</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">chmod</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> +x</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> post.sh</span></span></code></pre></div><p>Open the file in your preferred editor.</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#!/bin/bash</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># ------------------------------------------------------</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Don&#39;t edit this section</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Include scripts.sh with helper functions</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">source</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> library/scripts.sh</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># ------------------------------------------------------</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Show Current version</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;:: Running hook for ML4W Dotfiles </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$version</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Install additional packages</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">_installPackagesPacman</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;kitty&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">_installPackagesYay</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;wlogout&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">_installPackagesFlatpak</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;com.spotify.Client&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Remove installed packages</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># sudo pacman -R alacritty</span></span></code></pre></div><p>The script will check if <code>kitty</code> and <code>wlogout</code> is already installed and install them if not.</p><blockquote><p>The <code>_installPackagesPacman</code> and <code>_installPackagesYay</code> functions are a helper function shipped with the ML4W Dotfiles.</p></blockquote><p>You can also uninstall packages if needed.</p><p>Next time you run the ML4W installer the script will detect the existing <code>post.sh</code> and will offer to execute it at last step of the installation.</p><h2 id="helper-script" tabindex="-1">Helper Script <a class="header-anchor" href="#helper-script" aria-label="Permalink to &quot;Helper Script&quot;">​</a></h2><p>The above used functions are shipped with the ML4W Dotfiles and are stored in <code>~/.ml4w-hyprland/library/scripts.sh</code></p><blockquote><p>This file will be updated with every new version of the Dotfiles and will provide more helper functions in the future.</p></blockquote>`,30)]))}const f=i(n,[["render",l]]);export{k as __pageData,f as default};
